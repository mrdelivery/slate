# Coupons

This is the coupons api documentation.

## List Coupons

Gets the full list of coupons in the system.

> Definition: 

```shell
GET http://qa.mrd.com:8888/coupons`
```

> Example Request:

```shell
curl http://qa.mrd.com:8888/coupons
```

> Response:

```json
{
   "coupons" : [
   ],
   "offset": 0,
   "limit": 0,
   "total": 1
}
```

## Create Coupon

### Query Parameters
Parameter | Type | Default | Required? | Description
--------- | -----| --------| --------- | -----------
description|string|N/A|optional|The description of the coupon
code|string|autogenerated|optional|The coupon code, autogenerates if none specified
percentage_amount|integer|N/A|optional|Set if the value of the coupon offsets an order value based on percentage of order
value_amount|integer|N/A|optional|Set if the value of the coupon offsets an order value based on the this value (in cents)
qualifying_amount|integer|N/A|optional|Amount in cents of the order needed in order for this coupon to be attached to this order
usage_limit|integer|-1 (unlimited)|optional|Limit the amount of times the coupon can be redeemed
limit_type|string|"all"|optional|What kind of limit the coupon imposes. Possible values: "user", "all"
_valid_at|string|current_date|optional|When the coupon becomes valid from
_expires_at|string|N/A|optional|When the coupon expires

> Definition: 

```shell
POST http://qa.mrd.com:8888/coupons`
```

> Example Request:

```shell
curl http://qa.mrd.com:8888/coupons -X POST -H "Content-Type: application/json"
  -d '{"description": "Promotional Coupon", "value_amount": 1000, "usage_limit": 100, "limit_type": "user", "_expires_at": "2015-01-01 00:00:00"}'
```

> Response:

```json
{
   "_uuid": "b67818fc878911e5af63feff819cdc9f",
   "_updated_at" : "2015-11-12 14:31",
   "_created_at" : "2015-11-12 14:31",
   "_valid_at": "2015-11-12 14:31",
   "_expires_at": "2015-01-01 00:00:00",

   "description": "Promotional Coupon",
   "code" : "PROMO001",
   "value_amount" : 1000,
   "authorization_count": 0,
   "usage_count": 0,
   "usage_limit": 100,
   "limit_type": "user"
}
```